{% extends 'layout.html' %}

{% block body %}

<div class="row">
  <div class="col-md-3">
    <div class="card card-body">
      <form action="/add_book" method="POST">
        <div class="form-group">
          <input type="text" name="booktitle" placeholder="Título" class="form-control">
        </div>
        <div class="form-group">
          <input type="text" name="author" placeholder="Autor" class="form-control">
        </div>
        <div class="form-group">
          <input type="text" name="genre" placeholder="Género" class="form-control">
        </div>
        <div class="form-group">
          <input type="text" name="startdate" placeholder="Fecha de inicio" class="form-control">
        </div>
        <div class="form-group">
          <input type="text" name="enddate" placeholder="Fecha de fin" class="form-control">
        </div>
        <div class="form-group">
          <input type="text" name="score" placeholder="Puntuación" class="form-control">
        </div>
        <div class="form-group">
          <button type="submit" class="btn btn-primary btn-block form-control">Guardar</button>
        </div>
      </form>
    </div>
    {% with messages = get_flashed_messages() %}
    {% if messages %}
    {% for message in messages %}
    <div class="alert alert-success alert-dismissible fade show" role="alert">
      <strong>{{message}}</strong>
      <button type="button" class="btn-close" data-dismiss="alert" aria-label="Close"></button>
    </div>
    {% endfor %}
    {% endif %}
    {% endwith %}
  </div>
  <div class="col-md-9">
    <table class="table table-striped table-bordered table-sm bg-white">
      <thead>
        <tr>
          <td>Título</td>
          <td>Autor</td>
          <td>Género</td>
          <td>Fecha Inicio</td>
          <td>Fecha Fin</td>
          <td>Puntuación</td>
          <td>Operations</td>
        </tr>
      </thead>
      <tbody>
        {% for book in books %}
        <tr>
          <td>{{book.1}}</td>
          <td>{{book.2}}</td>
          <td>{{book.3}}</td>
          <td>{{book.4}}</td>
          <td>{{book.5}}</td>
          <td>{{book.6}}</td>
          <td>
            <a href="edit/{{book.0}}" class="btn btn-secondary">Editar</a>
            <a href="delete/{{book.0}}" class="btn btn-danger btn-delete">Eliminar</a>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>    
  </div>
</div>

{% endblock %}